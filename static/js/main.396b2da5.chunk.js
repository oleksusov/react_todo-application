(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},39:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c(26),a=c.n(o),r=c(14),l=(c(35),c(36),c(37),c(8)),s=c(6),i=c(4);var d=c(3),u=function(e){var t=e.addNewTodo,c=Object(n.useState)(""),o=Object(i.a)(c,2),a=o[0],r=o[1];return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{children:"todos"}),Object(d.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),a.trim().length){var c={id:+new Date,completed:!1,title:a};t(c),r("")}},children:Object(d.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:a,onChange:function(e){r(e.target.value)}})})]})},j=c(2),b=c(22),p=c.n(b),f=function(e){var t=e.todo,c=e.todos,o=e.setTodos,a=t.id,r=t.title,s=t.completed,u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],f=j[1],m=Object(n.useRef)(null),O=Object(n.useState)(r),h=Object(i.a)(O,2),x=h[0],v=h[1],g=function(e){o(c.filter((function(t){return t.id!==e})))},y=function(e){var n,s;(e.preventDefault(),x)?(x!==r&&(n=t.id,s=x,o(c.map((function(e){return e.id===n?Object(l.a)(Object(l.a)({},e),{},{title:s}):e})))),f(!1)):g(a)};return Object(n.useEffect)((function(){m.current&&m.current.focus()})),Object(d.jsx)("li",{className:p()({completed:t.completed},{editing:b}),onDoubleClick:function(){f(!b)},children:b?Object(d.jsx)("input",{type:"text",className:"edit",placeholder:"Empty todo will be deleted",value:x,ref:m,onChange:function(e){v(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&y(e),"Escape"===e.key&&(v(r),f(!1))},onBlur:y}):Object(d.jsxs)("div",{className:"view",children:[Object(d.jsx)("input",{id:"".concat(a),type:"checkbox",className:"toggle",checked:s,onChange:function(){return e=a,void o(c.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{completed:!s}):t})));var e}}),Object(d.jsx)("label",{htmlFor:"".concat(a),children:r}),Object(d.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo","aria-label":"deleteTodo",onClick:function(){return g(a)}})]})})},m=function(e){return e.All="/",e.Active="/active",e.Completed="/completed",e}({}),O=function(e){var t=e.todos,c=e.setTodos,n=Object(j.j)().pathname,o=t.filter((function(e){switch(n){case m.Active:return!e.completed;case m.Completed:return e.completed;case m.All:default:return e}}));return Object(d.jsx)("ul",{className:"todo-list","data-cy":"todosList",children:o.map((function(e){return Object(d.jsx)(f,{todo:e,todos:t,setTodos:c},e.id)}))})},h=function(e){var t=e.to,c=e.title;return Object(d.jsx)("li",{children:Object(d.jsx)(r.b,{to:t,className:function(e){var t=e.isActive;return p()({selected:t})},children:c})})},x=function(){var e=[{path:m.All,title:"All"},{path:m.Active,title:"Active"},{path:m.Completed,title:"Completed"}];return Object(d.jsx)("ul",{className:"filters","data-cy":"todosFilter",children:e.map((function(e){var t=e.path,c=e.title;return Object(d.jsx)(h,{to:t,title:c},c)}))})},v=function(e){var t=e.todos,c=e.setTodos;return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(t.filter((function(e){return!e.completed})).length," items left")}),Object(d.jsx)(x,{}),t.some((function(e){return e.completed}))&&Object(d.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){c(t.filter((function(e){return!e.completed})))},children:"Clear completed"})]})},g=function(){var e=function(e,t){var c=Object(n.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return t}})),o=Object(i.a)(c,2),a=o[0],r=o[1];return[a,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(i.a)(e,2),c=t[0],o=t[1];return Object(d.jsxs)("div",{className:"todoapp",children:[Object(d.jsx)(u,{addNewTodo:function(e){o([].concat(Object(s.a)(c),[e]))}}),!!c.length&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("section",{className:"main",children:[Object(d.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:c.every((function(e){return e.completed})),onChange:function(){o(c.every((function(e){return e.completed}))?c.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{completed:!e.completed})})):c.map((function(e){return e.completed?e:Object(l.a)(Object(l.a)({},e),{},{completed:!e.completed})})))}}),Object(d.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(d.jsx)(O,{todos:c,setTodos:o})]}),Object(d.jsx)(v,{todos:c,setTodos:o})]})]})},y=function(){return Object(d.jsx)(r.a,{children:Object(d.jsx)(g,{})})};a.a.createRoot(document.getElementById("root")).render(Object(d.jsx)(y,{}))}},[[39,1,2]]]);
//# sourceMappingURL=main.396b2da5.chunk.js.map